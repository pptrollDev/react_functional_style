{"ast":null,"code":"var _jsxFileName = \"/Users/pptroll/Projects/react_functional_style/src/components/ListPost.js\";\nimport './ListPost.css';\nimport React, { useState, useEffect } from 'react';\nimport { useSelector, useDispatch } from 'react-redux';\nimport * as actions from '../actions/post';\n\nfunction ListPost() {\n  // const [posts, setPosts] = useState([]);\n  const [courses, setCourses] = useState([]);\n  const [options, setOptions] = useState({\n    count: 0,\n    current_page: 1,\n    records_per_page: 10,\n    searchStr: '',\n    is_resolved: ''\n  });\n  const posts = useSelector(state => state.post.posts);\n  const dispatch = useDispatch();\n  useEffect(function () {\n    getPosts();\n    return function () {};\n  }, []);\n\n  function getPosts() {\n    dispatch(actions.getPosts());\n  } // function getPosts(){\n  //   let newCourses = [];\n  //   let newPosts = [];\n  //   fetch('http://localhost:7070/api/courses')\n  //   .then(function(response){\n  //       return response.json();\n  //   })\n  //   .then(function(json){\n  //       newCourses = json.courses;\n  //       fetch('http://localhost:7070/api/posts?is_resolved='+options.is_resolved+'&page='+options.current_page+'&s='+options.searchStr)\n  //       .then(function(response){\n  //           return response.json();\n  //       })\n  //       .then(function(json){\n  //           newPosts = json.posts;\n  //           if(options.searchStr || options.is_resolved!='')\n  //             options.count = 1;\n  //           else\n  //             options.count = json.count;\n  //           setOptions(options);\n  //           newPosts.forEach((post)=>{\n  //               newCourses.forEach((course)=>{\n  //                   if(post.course_id == course.id)\n  //                    post.course_title = course.title\n  //               });\n  //           });\n  //           setCourses(newCourses);\n  //           setPosts(newPosts);\n  //       })\n  //   })\n  // }\n\n\n  let listTags = [];\n  let addBtnTag = '';\n  listTags.push( /*#__PURE__*/React.createElement(\"div\", {\n    key: \"header\",\n    className: \"header-panel\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"author-div\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 9\n    }\n  }, \"\\uC791\\uC131\\uC790\"), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"title-div\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 9\n    }\n  }, \"\\uC81C\\uBAA9\"), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"createdAt-div\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 9\n    }\n  }, \"\\uC791\\uC131 \\uC2DC\\uAC04\"), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"course-div\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 9\n    }\n  }, \"\\uC5F0\\uAC04 \\uAC15\\uC758\"), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"isResolved-div\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 9\n    }\n  }, \"\\uC9C8\\uBB38 \\uD574\\uACB0 \\uC5EC\\uBD80\")));\n  console.log(posts); // posts.forEach((post)=>{\n  //   listTags.push(\n  //     <div key={post.id} className=\"body-panel\">\n  //         <div className=\"author-div\">{post.author}</div>\n  //         <div className=\"title-div\">\n  //             <a href={\"/detailpost/\"+post.id}>{post.title}</a>\n  //         </div>\n  //         <div className=\"createdAt-div\">{post.created_at}</div>\n  //         <div className=\"course-div\">{post.course_title}</div>\n  //         <div className=\"isResolved-div\">{post.is_resolved.toString()}</div>\n  //     </div>);\n  // });\n\n  addBtnTag = /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"a\", {\n    href: \"/addpost\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 20\n    }\n  }, \"\\uCD94\\uAC00\"));\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"listPost\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"h2\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 101,\n      columnNumber: 7\n    }\n  }, \"\\uB9AC\\uC2A4\\uD2B8\"), listTags, addBtnTag);\n}\n\nexport default ListPost;","map":{"version":3,"sources":["/Users/pptroll/Projects/react_functional_style/src/components/ListPost.js"],"names":["React","useState","useEffect","useSelector","useDispatch","actions","ListPost","courses","setCourses","options","setOptions","count","current_page","records_per_page","searchStr","is_resolved","posts","state","post","dispatch","getPosts","listTags","addBtnTag","push","console","log"],"mappings":";AAAA,OAAO,gBAAP;AACA,OAAOA,KAAP,IAAeC,QAAf,EAAyBC,SAAzB,QAAyC,OAAzC;AACA,SAASC,WAAT,EAAsBC,WAAtB,QAAyC,aAAzC;AACA,OAAO,KAAKC,OAAZ,MAAyB,iBAAzB;;AAEA,SAASC,QAAT,GAAoB;AAClB;AACA,QAAM,CAACC,OAAD,EAAUC,UAAV,IAAwBP,QAAQ,CAAC,EAAD,CAAtC;AACA,QAAM,CAACQ,OAAD,EAAUC,UAAV,IAAwBT,QAAQ,CAAC;AACrCU,IAAAA,KAAK,EAAE,CAD8B;AAErCC,IAAAA,YAAY,EAAE,CAFuB;AAGrCC,IAAAA,gBAAgB,EAAE,EAHmB;AAIrCC,IAAAA,SAAS,EAAE,EAJ0B;AAKrCC,IAAAA,WAAW,EAAE;AALwB,GAAD,CAAtC;AAQA,QAAMC,KAAK,GAAGb,WAAW,CAACc,KAAK,IAAIA,KAAK,CAACC,IAAN,CAAWF,KAArB,CAAzB;AACA,QAAMG,QAAQ,GAAGf,WAAW,EAA5B;AAEAF,EAAAA,SAAS,CAAC,YAAU;AAClBkB,IAAAA,QAAQ;AAER,WAAO,YAAU,CAEhB,CAFD;AAGD,GANQ,EAMN,EANM,CAAT;;AAQA,WAASA,QAAT,GAAmB;AACjBD,IAAAA,QAAQ,CAACd,OAAO,CAACe,QAAR,EAAD,CAAR;AACD,GAxBiB,CA0BlB;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AAEA;AAEA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;;;AAEA,MAAIC,QAAQ,GAAG,EAAf;AACA,MAAIC,SAAS,GAAG,EAAhB;AAEAD,EAAAA,QAAQ,CAACE,IAAT,eACE;AAAK,IAAA,GAAG,EAAC,QAAT;AAAkB,IAAA,SAAS,EAAC,cAA5B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI;AAAK,IAAA,SAAS,EAAC,YAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,0BADJ,eAEI;AAAK,IAAA,SAAS,EAAC,WAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAFJ,eAGI;AAAK,IAAA,SAAS,EAAC,eAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iCAHJ,eAII;AAAK,IAAA,SAAS,EAAC,YAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iCAJJ,eAKI;AAAK,IAAA,SAAS,EAAC,gBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,8CALJ,CADF;AAUAC,EAAAA,OAAO,CAACC,GAAR,CAAYT,KAAZ,EA7EkB,CA8ElB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEAM,EAAAA,SAAS,gBAAG;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAAK;AAAG,IAAA,IAAI,EAAC,UAAR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAAL,CAAZ;AAEA,sBACE;AAAK,IAAA,SAAS,EAAC,UAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,0BADF,EAEGD,QAFH,EAGGC,SAHH,CADF;AAOD;;AAED,eAAehB,QAAf","sourcesContent":["import './ListPost.css';\nimport React, {useState, useEffect} from 'react';\nimport { useSelector, useDispatch } from 'react-redux';\nimport * as actions from '../actions/post';\n\nfunction ListPost() {\n  // const [posts, setPosts] = useState([]);\n  const [courses, setCourses] = useState([]);\n  const [options, setOptions] = useState({\n    count: 0,\n    current_page: 1,\n    records_per_page: 10,\n    searchStr: '',\n    is_resolved: ''\n  });\n\n  const posts = useSelector(state => state.post.posts);\n  const dispatch = useDispatch();\n\n  useEffect(function(){\n    getPosts();\n    \n    return function(){\n      \n    }\n  }, []);\n\n  function getPosts(){\n    dispatch(actions.getPosts());\n  }\n\n  // function getPosts(){\n  //   let newCourses = [];\n  //   let newPosts = [];\n\n  //   fetch('http://localhost:7070/api/courses')\n  //   .then(function(response){\n  //       return response.json();\n  //   })\n  //   .then(function(json){\n  //       newCourses = json.courses;\n\n  //       fetch('http://localhost:7070/api/posts?is_resolved='+options.is_resolved+'&page='+options.current_page+'&s='+options.searchStr)\n  //       .then(function(response){\n  //           return response.json();\n  //       })\n  //       .then(function(json){\n  //           newPosts = json.posts;\n\n  //           if(options.searchStr || options.is_resolved!='')\n  //             options.count = 1;\n  //           else\n  //             options.count = json.count;\n\n  //           setOptions(options);\n            \n  //           newPosts.forEach((post)=>{\n  //               newCourses.forEach((course)=>{\n  //                   if(post.course_id == course.id)\n  //                    post.course_title = course.title\n  //               });\n  //           });\n\n  //           setCourses(newCourses);\n  //           setPosts(newPosts);\n  //       })\n  //   })\n  // }\n\n  let listTags = [];\n  let addBtnTag = '';\n\n  listTags.push(\n    <div key=\"header\" className=\"header-panel\">\n        <div className=\"author-div\">작성자</div>\n        <div className=\"title-div\">제목</div>\n        <div className=\"createdAt-div\">작성 시간</div>\n        <div className=\"course-div\">연간 강의</div>\n        <div className=\"isResolved-div\">질문 해결 여부</div>\n    </div>\n  );\n\n  console.log(posts)\n  // posts.forEach((post)=>{\n  //   listTags.push(\n  //     <div key={post.id} className=\"body-panel\">\n  //         <div className=\"author-div\">{post.author}</div>\n  //         <div className=\"title-div\">\n  //             <a href={\"/detailpost/\"+post.id}>{post.title}</a>\n  //         </div>\n  //         <div className=\"createdAt-div\">{post.created_at}</div>\n  //         <div className=\"course-div\">{post.course_title}</div>\n  //         <div className=\"isResolved-div\">{post.is_resolved.toString()}</div>\n  //     </div>);\n  // });\n\n  addBtnTag = <div><a href=\"/addpost\">추가</a></div>\n\n  return (\n    <div className=\"listPost\">\n      <h2>리스트</h2>\n      {listTags}\n      {addBtnTag}\n    </div>\n  );\n}\n\nexport default ListPost;\n"]},"metadata":{},"sourceType":"module"}