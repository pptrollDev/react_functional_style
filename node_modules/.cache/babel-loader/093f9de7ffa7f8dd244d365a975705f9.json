{"ast":null,"code":"var _jsxFileName = \"/Users/pptroll/Projects/react_functional_style/src/components/ListPost.js\";\nimport './ListPost.css';\nimport React, { useState, useEffect } from 'react';\nimport { useSelector, useDispatch } from 'react-redux';\n\nfunction ListPost() {\n  const [posts, setPosts] = useState([]); // const posts = useSelector(state => state.post);\n  // const dispatch = useDispatch();\n\n  useEffect(function () {\n    getPosts();\n    return function () {};\n  }, []);\n\n  function getPosts() {\n    let newCourses = [];\n    let newPosts = [];\n    fetch('http://localhost:7070/api/courses').then(function (response) {\n      return response.json();\n    }).then(function (json) {\n      newCourses = json.courses;\n      fetch('http://localhost:7070/api/posts?is_resolved=' + options.is_resolved + '&page=' + options.current_page + '&s=' + options.searchStr).then(function (response) {\n        return response.json();\n      }).then(function (json) {\n        newPosts = json.posts;\n        if (options.searchStr || options.is_resolved != '') options.count = 1;else options.count = json.count;\n        setOptions(options);\n        newPosts.forEach(post => {\n          newCourses.forEach(course => {\n            if (post.course_id == course.id) post.course_title = course.title;\n          });\n        });\n        setCourses(newCourses);\n        setPosts(newPosts);\n      });\n    });\n  }\n\n  let listTags = [];\n  let addBtnTag = '';\n  listTags.push( /*#__PURE__*/React.createElement(\"div\", {\n    key: \"header\",\n    className: \"header-panel\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"author-div\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 9\n    }\n  }, \"\\uC791\\uC131\\uC790\"), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"title-div\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 9\n    }\n  }, \"\\uC81C\\uBAA9\"), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"createdAt-div\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 9\n    }\n  }, \"\\uC791\\uC131 \\uC2DC\\uAC04\"), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"course-div\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 9\n    }\n  }, \"\\uC5F0\\uAC04 \\uAC15\\uC758\"), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"isResolved-div\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 9\n    }\n  }, \"\\uC9C8\\uBB38 \\uD574\\uACB0 \\uC5EC\\uBD80\")));\n  posts.forEach(post => {\n    listTags.push( /*#__PURE__*/React.createElement(\"div\", {\n      key: post.id,\n      className: \"body-panel\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"author-div\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 11\n      }\n    }, post.author), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"title-div\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"a\", {\n      href: \"/detailpost/\" + post.id,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 15\n      }\n    }, post.title)), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"createdAt-div\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 11\n      }\n    }, post.created_at), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"course-div\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 11\n      }\n    }, post.course_title), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"isResolved-div\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 11\n      }\n    }, post.is_resolved.toString())));\n  });\n  addBtnTag = /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"a\", {\n    href: \"/addpost\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 20\n    }\n  }, \"\\uCD94\\uAC00\"));\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"listPost\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"h2\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 7\n    }\n  }, \"\\uB9AC\\uC2A4\\uD2B8\"), listTags, addBtnTag);\n}\n\nexport default ListPost;","map":{"version":3,"sources":["/Users/pptroll/Projects/react_functional_style/src/components/ListPost.js"],"names":["React","useState","useEffect","useSelector","useDispatch","ListPost","posts","setPosts","getPosts","newCourses","newPosts","fetch","then","response","json","courses","options","is_resolved","current_page","searchStr","count","setOptions","forEach","post","course","course_id","id","course_title","title","setCourses","listTags","addBtnTag","push","author","created_at","toString"],"mappings":";AAAA,OAAO,gBAAP;AACA,OAAOA,KAAP,IAAeC,QAAf,EAAyBC,SAAzB,QAAyC,OAAzC;AACA,SAASC,WAAT,EAAsBC,WAAtB,QAAyC,aAAzC;;AAEA,SAASC,QAAT,GAAoB;AAClB,QAAM,CAACC,KAAD,EAAQC,QAAR,IAAoBN,QAAQ,CAAC,EAAD,CAAlC,CADkB,CAElB;AACA;;AAEAC,EAAAA,SAAS,CAAC,YAAU;AAClBM,IAAAA,QAAQ;AAER,WAAO,YAAU,CAEhB,CAFD;AAGD,GANQ,EAMN,EANM,CAAT;;AAQA,WAASA,QAAT,GAAmB;AACjB,QAAIC,UAAU,GAAG,EAAjB;AACA,QAAIC,QAAQ,GAAG,EAAf;AAEAC,IAAAA,KAAK,CAAC,mCAAD,CAAL,CACCC,IADD,CACM,UAASC,QAAT,EAAkB;AACpB,aAAOA,QAAQ,CAACC,IAAT,EAAP;AACH,KAHD,EAICF,IAJD,CAIM,UAASE,IAAT,EAAc;AAChBL,MAAAA,UAAU,GAAGK,IAAI,CAACC,OAAlB;AAEAJ,MAAAA,KAAK,CAAC,iDAA+CK,OAAO,CAACC,WAAvD,GAAmE,QAAnE,GAA4ED,OAAO,CAACE,YAApF,GAAiG,KAAjG,GAAuGF,OAAO,CAACG,SAAhH,CAAL,CACCP,IADD,CACM,UAASC,QAAT,EAAkB;AACpB,eAAOA,QAAQ,CAACC,IAAT,EAAP;AACH,OAHD,EAICF,IAJD,CAIM,UAASE,IAAT,EAAc;AAChBJ,QAAAA,QAAQ,GAAGI,IAAI,CAACR,KAAhB;AAEA,YAAGU,OAAO,CAACG,SAAR,IAAqBH,OAAO,CAACC,WAAR,IAAqB,EAA7C,EACED,OAAO,CAACI,KAAR,GAAgB,CAAhB,CADF,KAGEJ,OAAO,CAACI,KAAR,GAAgBN,IAAI,CAACM,KAArB;AAEFC,QAAAA,UAAU,CAACL,OAAD,CAAV;AAEAN,QAAAA,QAAQ,CAACY,OAAT,CAAkBC,IAAD,IAAQ;AACrBd,UAAAA,UAAU,CAACa,OAAX,CAAoBE,MAAD,IAAU;AACzB,gBAAGD,IAAI,CAACE,SAAL,IAAkBD,MAAM,CAACE,EAA5B,EACCH,IAAI,CAACI,YAAL,GAAoBH,MAAM,CAACI,KAA3B;AACJ,WAHD;AAIH,SALD;AAOAC,QAAAA,UAAU,CAACpB,UAAD,CAAV;AACAF,QAAAA,QAAQ,CAACG,QAAD,CAAR;AACH,OAvBD;AAwBH,KA/BD;AAgCD;;AAED,MAAIoB,QAAQ,GAAG,EAAf;AACA,MAAIC,SAAS,GAAG,EAAhB;AAEAD,EAAAA,QAAQ,CAACE,IAAT,eACE;AAAK,IAAA,GAAG,EAAC,QAAT;AAAkB,IAAA,SAAS,EAAC,cAA5B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI;AAAK,IAAA,SAAS,EAAC,YAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,0BADJ,eAEI;AAAK,IAAA,SAAS,EAAC,WAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAFJ,eAGI;AAAK,IAAA,SAAS,EAAC,eAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iCAHJ,eAII;AAAK,IAAA,SAAS,EAAC,YAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iCAJJ,eAKI;AAAK,IAAA,SAAS,EAAC,gBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,8CALJ,CADF;AAUA1B,EAAAA,KAAK,CAACgB,OAAN,CAAeC,IAAD,IAAQ;AACpBO,IAAAA,QAAQ,CAACE,IAAT,eACE;AAAK,MAAA,GAAG,EAAET,IAAI,CAACG,EAAf;AAAmB,MAAA,SAAS,EAAC,YAA7B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACI;AAAK,MAAA,SAAS,EAAC,YAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAA6BH,IAAI,CAACU,MAAlC,CADJ,eAEI;AAAK,MAAA,SAAS,EAAC,WAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACI;AAAG,MAAA,IAAI,EAAE,iBAAeV,IAAI,CAACG,EAA7B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAkCH,IAAI,CAACK,KAAvC,CADJ,CAFJ,eAKI;AAAK,MAAA,SAAS,EAAC,eAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAgCL,IAAI,CAACW,UAArC,CALJ,eAMI;AAAK,MAAA,SAAS,EAAC,YAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAA6BX,IAAI,CAACI,YAAlC,CANJ,eAOI;AAAK,MAAA,SAAS,EAAC,gBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAiCJ,IAAI,CAACN,WAAL,CAAiBkB,QAAjB,EAAjC,CAPJ,CADF;AAUD,GAXD;AAaAJ,EAAAA,SAAS,gBAAG;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAAK;AAAG,IAAA,IAAI,EAAC,UAAR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAAL,CAAZ;AAEA,sBACE;AAAK,IAAA,SAAS,EAAC,UAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,0BADF,EAEGD,QAFH,EAGGC,SAHH,CADF;AAOD;;AAED,eAAe1B,QAAf","sourcesContent":["import './ListPost.css';\nimport React, {useState, useEffect} from 'react';\nimport { useSelector, useDispatch } from 'react-redux';\n\nfunction ListPost() {\n  const [posts, setPosts] = useState([]);\n  // const posts = useSelector(state => state.post);\n  // const dispatch = useDispatch();\n\n  useEffect(function(){\n    getPosts();\n    \n    return function(){\n      \n    }\n  }, []);\n\n  function getPosts(){\n    let newCourses = [];\n    let newPosts = [];\n\n    fetch('http://localhost:7070/api/courses')\n    .then(function(response){\n        return response.json();\n    })\n    .then(function(json){\n        newCourses = json.courses;\n\n        fetch('http://localhost:7070/api/posts?is_resolved='+options.is_resolved+'&page='+options.current_page+'&s='+options.searchStr)\n        .then(function(response){\n            return response.json();\n        })\n        .then(function(json){\n            newPosts = json.posts;\n\n            if(options.searchStr || options.is_resolved!='')\n              options.count = 1;\n            else\n              options.count = json.count;\n\n            setOptions(options);\n            \n            newPosts.forEach((post)=>{\n                newCourses.forEach((course)=>{\n                    if(post.course_id == course.id)\n                     post.course_title = course.title\n                });\n            });\n\n            setCourses(newCourses);\n            setPosts(newPosts);\n        })\n    })\n  }\n\n  let listTags = [];\n  let addBtnTag = '';\n\n  listTags.push(\n    <div key=\"header\" className=\"header-panel\">\n        <div className=\"author-div\">작성자</div>\n        <div className=\"title-div\">제목</div>\n        <div className=\"createdAt-div\">작성 시간</div>\n        <div className=\"course-div\">연간 강의</div>\n        <div className=\"isResolved-div\">질문 해결 여부</div>\n    </div>\n  );\n\n  posts.forEach((post)=>{\n    listTags.push(\n      <div key={post.id} className=\"body-panel\">\n          <div className=\"author-div\">{post.author}</div>\n          <div className=\"title-div\">\n              <a href={\"/detailpost/\"+post.id}>{post.title}</a>\n          </div>\n          <div className=\"createdAt-div\">{post.created_at}</div>\n          <div className=\"course-div\">{post.course_title}</div>\n          <div className=\"isResolved-div\">{post.is_resolved.toString()}</div>\n      </div>);\n  });\n\n  addBtnTag = <div><a href=\"/addpost\">추가</a></div>\n\n  return (\n    <div className=\"listPost\">\n      <h2>리스트</h2>\n      {listTags}\n      {addBtnTag}\n    </div>\n  );\n}\n\nexport default ListPost;\n"]},"metadata":{},"sourceType":"module"}