{"ast":null,"code":"var _jsxFileName = \"/Users/pptroll/Projects/react_functional_style/src/components/ListPost.js\";\nimport React, { useState, useEffect } from 'react';\nimport './ListPost.css';\n\nfunction ListPost() {\n  const [post, setPost] = useState({});\n  const [posts, setPosts] = useState([]);\n  const [courses, setCourses] = useState([]);\n  const [options, setOptions] = useState({\n    count: 0,\n    current_page: 1,\n    records_per_page: 10,\n    searchStr: '',\n    is_resolved: ''\n  });\n  useEffect(function () {\n    getPosts();\n    return function () {};\n  }, []);\n\n  function getPosts() {\n    let newCourses = [];\n    let newPosts = [];\n    fetch('http://localhost:7070/api/courses').then(function (response) {\n      return response.json();\n    }).then(function (json) {\n      newCourses = json.courses;\n      fetch('http://localhost:7070/api/posts?is_resolved=' + options.is_resolved + '&page=' + options.current_page + '&s=' + options.searchStr).then(function (response) {\n        return response.json();\n      }).then(function (json) {\n        newPosts = json.posts;\n        if (options.searchStr || options.is_resolved != '') options.count = 1;else options.count = json.count;\n        setOptions(options);\n        newPosts.forEach(post => {\n          newCourses.forEach(course => {\n            if (post.course_id == course.id) post.course_title = course.title;\n          });\n        });\n        setCourses(newCourses);\n        setPosts(newPosts);\n      });\n    });\n  }\n\n  let listTags = [];\n  let addBtnTag = '';\n  listTags.push( /*#__PURE__*/React.createElement(\"div\", {\n    key: \"header\",\n    className: \"header-panel\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"author-div\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 9\n    }\n  }, \"\\uC791\\uC131\\uC790\"), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"title-div\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 9\n    }\n  }, \"\\uC81C\\uBAA9\"), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"createdAt-div\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 9\n    }\n  }, \"\\uC791\\uC131 \\uC2DC\\uAC04\"), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"course-div\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 9\n    }\n  }, \"\\uC5F0\\uAC04 \\uAC15\\uC758\"), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"isResolved-div\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 9\n    }\n  }, \"\\uC9C8\\uBB38 \\uD574\\uACB0 \\uC5EC\\uBD80\")));\n  posts.forEach(post => {\n    listTags.push( /*#__PURE__*/React.createElement(\"div\", {\n      key: post.id,\n      className: \"body-panel\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"author-div\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 11\n      }\n    }, post.author), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"title-div\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"a\", {\n      href: \"/detailpost/\" + post.id,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 15\n      }\n    }, post.title)), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"createdAt-div\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 11\n      }\n    }, post.created_at), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"course-div\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 11\n      }\n    }, post.course_title), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"isResolved-div\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 11\n      }\n    }, post.is_resolved.toString())));\n  });\n  addBtnTag = /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"a\", {\n    href: \"/addpost\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 20\n    }\n  }, \"\\uCD94\\uAC00\"));\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"listPost\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"h2\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 7\n    }\n  }, \"\\uB9AC\\uC2A4\\uD2B8\"), listTags, addBtnTag);\n}\n\nexport default ListPost;","map":{"version":3,"sources":["/Users/pptroll/Projects/react_functional_style/src/components/ListPost.js"],"names":["React","useState","useEffect","ListPost","post","setPost","posts","setPosts","courses","setCourses","options","setOptions","count","current_page","records_per_page","searchStr","is_resolved","getPosts","newCourses","newPosts","fetch","then","response","json","forEach","course","course_id","id","course_title","title","listTags","addBtnTag","push","author","created_at","toString"],"mappings":"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","sourcesContent":["import React, {useState, useEffect} from 'react';\nimport './ListPost.css';\n\nfunction ListPost() {\n  const [post, setPost] = useState({});\n  const [posts, setPosts] = useState([]);\n  const [courses, setCourses] = useState([]);\n  const [options, setOptions] = useState({\n    count: 0,\n    current_page: 1,\n    records_per_page: 10,\n    searchStr: '',\n    is_resolved: ''\n  });\n\n  useEffect(function(){\n    getPosts();\n    \n    return function(){\n      \n    }\n  }, []);\n\n  function getPosts(){\n    let newCourses = [];\n    let newPosts = [];\n\n    fetch('http://localhost:7070/api/courses')\n    .then(function(response){\n        return response.json();\n    })\n    .then(function(json){\n        newCourses = json.courses;\n\n        fetch('http://localhost:7070/api/posts?is_resolved='+options.is_resolved+'&page='+options.current_page+'&s='+options.searchStr)\n        .then(function(response){\n            return response.json();\n        })\n        .then(function(json){\n            newPosts = json.posts;\n\n            if(options.searchStr || options.is_resolved!='')\n              options.count = 1;\n            else\n              options.count = json.count;\n\n            setOptions(options);\n            \n            newPosts.forEach((post)=>{\n                newCourses.forEach((course)=>{\n                    if(post.course_id == course.id)\n                     post.course_title = course.title\n                });\n            });\n\n            setCourses(newCourses);\n            setPosts(newPosts);\n        })\n    })\n  }\n\n  let listTags = [];\n  let addBtnTag = '';\n\n  listTags.push(\n    <div key=\"header\" className=\"header-panel\">\n        <div className=\"author-div\">작성자</div>\n        <div className=\"title-div\">제목</div>\n        <div className=\"createdAt-div\">작성 시간</div>\n        <div className=\"course-div\">연간 강의</div>\n        <div className=\"isResolved-div\">질문 해결 여부</div>\n    </div>\n  );\n\n  posts.forEach((post)=>{\n    listTags.push(\n      <div key={post.id} className=\"body-panel\">\n          <div className=\"author-div\">{post.author}</div>\n          <div className=\"title-div\">\n              <a href={\"/detailpost/\"+post.id}>{post.title}</a>\n          </div>\n          <div className=\"createdAt-div\">{post.created_at}</div>\n          <div className=\"course-div\">{post.course_title}</div>\n          <div className=\"isResolved-div\">{post.is_resolved.toString()}</div>\n      </div>);\n  });\n\n  addBtnTag = <div><a href=\"/addpost\">추가</a></div>\n\n  return (\n    <div className=\"listPost\">\n      <h2>리스트</h2>\n      {listTags}\n      {addBtnTag}\n    </div>\n  );\n}\n\nexport default ListPost;\n"]},"metadata":{},"sourceType":"module"}