{"ast":null,"code":"var _jsxFileName = \"/Users/pptroll/Projects/react_functional_style/src/AddPost.js\";\nimport React, { useState, useEffect } from 'react';\nimport './AddPost.css';\n\nfunction AddPost() {\n  const [courses, setCourses] = useState([]);\n  const [forms, setForms] = useState({\n    title: '',\n    author: '',\n    course: '',\n    content: ''\n  });\n  useEffect(function () {\n    getCourses();\n    return function () {};\n  }, []);\n\n  function getCourses() {\n    fetch('http://localhost:7070/api/courses').then(function (response) {\n      return response.json();\n    }).then(function (json) {\n      if (json.courses.length > 0) {\n        let newForms = forms;\n        newForms.course = json.courses[0].id;\n        setForms(prev => {\n          return { ...prev,\n            ...newForms\n          };\n        });\n      }\n\n      setCourses(json.courses);\n    });\n  }\n\n  function createCourse() {\n    var headers = {\n      \"Content-Type\": \"application/json\",\n      \"Access-Control-Origin\": \"*\"\n    };\n    var data = {\n      \"author\": forms.author,\n      \"title\": forms.title,\n      \"body\": forms.content,\n      \"course_id\": forms.course\n    };\n    fetch(\"http://localhost:7070/api/posts\", {\n      method: \"POST\",\n      headers: headers,\n      body: JSON.stringify(data)\n    }).then(function (response) {\n      return response.json();\n    }).then(function (json) {\n      if (window.confirm(\"등록 되었습니다\")) {\n        window.location = '/';\n      } else {\n        window.location = '/';\n      }\n\n      ;\n    });\n  }\n\n  function handleChange(e) {\n    let newForms = forms;\n    newForms[e.target.name] = e.target.value;\n    setForms(prev => {\n      return { ...prev,\n        ...newForms\n      };\n    });\n  }\n\n  function handleSubmit(e) {\n    e.preventDefault(); // props.handleSubmit(state.title, state.author, state.course, state.content);\n\n    if (!forms.title || !forms.author || !forms.course || !forms.content) {\n      window.alert(\"모든 입력값은 필수값 입니다.\");\n    } else if (forms.author.length < 3) {\n      window.alert(\"작성자를 3자이상 입력해주세요.\");\n    } else if (forms.content.length < 10) {\n      window.alert(\"본문을 10자이상 입력해주세요\");\n    } else {\n      createCourse();\n    }\n  }\n\n  let optionTags = [];\n  courses.forEach(course => {\n    optionTags.push( /*#__PURE__*/React.createElement(\"option\", {\n      key: course.id,\n      value: course.id,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 98,\n        columnNumber: 13\n      }\n    }, course.title));\n  });\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 103,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 104,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"h2\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 105,\n      columnNumber: 17\n    }\n  }, \"\\uCD94\\uAC00\")), /*#__PURE__*/React.createElement(\"form\", {\n    id: \"addPostForm\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 107,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"addPostContainer\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 108,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"panel\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 109,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"title\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 110,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 110,\n      columnNumber: 48\n    }\n  }, \"\\uC81C\\uBAA9\")), /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 111,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    name: \"title\",\n    value: forms.title,\n    onChange: handleChange,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 111,\n      columnNumber: 30\n    }\n  }))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"panel\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 113,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"title\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 114,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 114,\n      columnNumber: 48\n    }\n  }, \"\\uC791\\uC131\\uC790\")), /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 115,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    name: \"author\",\n    value: forms.author,\n    onChange: handleChange,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 115,\n      columnNumber: 30\n    }\n  }))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"panel\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 117,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"title\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 118,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 118,\n      columnNumber: 48\n    }\n  }, \"\\uAC15\\uC758 \\uBAA9\\uB85D\\x1C\")), /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 119,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(\"select\", {\n    name: \"course\",\n    onChange: handleChange,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 119,\n      columnNumber: 30\n    }\n  }, optionTags))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"panel\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 121,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"title\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 122,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 122,\n      columnNumber: 48\n    }\n  }, \"\\uBCF8\\uBB38\")), /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 123,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(\"textarea\", {\n    type: \"text\",\n    name: \"content\",\n    value: forms.content,\n    onChange: handleChange,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 123,\n      columnNumber: 30\n    }\n  }))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"btnPanel\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 125,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    type: \"submit\",\n    onClick: handleSubmit,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 126,\n      columnNumber: 25\n    }\n  }, \"\\uD655\\uC778\")))));\n}\n\nexport default AddPost;","map":{"version":3,"sources":["/Users/pptroll/Projects/react_functional_style/src/AddPost.js"],"names":["React","useState","useEffect","AddPost","courses","setCourses","forms","setForms","title","author","course","content","getCourses","fetch","then","response","json","length","newForms","id","prev","createCourse","headers","data","method","body","JSON","stringify","window","confirm","location","handleChange","e","target","name","value","handleSubmit","preventDefault","alert","optionTags","forEach","push"],"mappings":";AAAA,OAAOA,KAAP,IAAeC,QAAf,EAAyBC,SAAzB,QAAyC,OAAzC;AACA,OAAO,eAAP;;AAEA,SAASC,OAAT,GAAkB;AACd,QAAM,CAACC,OAAD,EAAUC,UAAV,IAAwBJ,QAAQ,CAAC,EAAD,CAAtC;AACA,QAAM,CAACK,KAAD,EAAQC,QAAR,IAAoBN,QAAQ,CAAC;AAC/BO,IAAAA,KAAK,EAAE,EADwB;AAE/BC,IAAAA,MAAM,EAAE,EAFuB;AAG/BC,IAAAA,MAAM,EAAE,EAHuB;AAI/BC,IAAAA,OAAO,EAAE;AAJsB,GAAD,CAAlC;AAOAT,EAAAA,SAAS,CAAC,YAAU;AAChBU,IAAAA,UAAU;AAEV,WAAO,YAAU,CAEhB,CAFD;AAGD,GANM,EAMJ,EANI,CAAT;;AAQA,WAASA,UAAT,GAAqB;AACjBC,IAAAA,KAAK,CAAC,mCAAD,CAAL,CACCC,IADD,CACM,UAASC,QAAT,EAAkB;AACpB,aAAOA,QAAQ,CAACC,IAAT,EAAP;AACH,KAHD,EAICF,IAJD,CAIM,UAASE,IAAT,EAAc;AAChB,UAAGA,IAAI,CAACZ,OAAL,CAAaa,MAAb,GAAoB,CAAvB,EAAyB;AACrB,YAAIC,QAAQ,GAAGZ,KAAf;AACAY,QAAAA,QAAQ,CAACR,MAAT,GAAkBM,IAAI,CAACZ,OAAL,CAAa,CAAb,EAAgBe,EAAlC;AAEAZ,QAAAA,QAAQ,CAACa,IAAI,IAAI;AACb,iBAAO,EAAC,GAAGA,IAAJ;AAAU,eAAGF;AAAb,WAAP;AACH,SAFO,CAAR;AAGH;;AAEDb,MAAAA,UAAU,CAACW,IAAI,CAACZ,OAAN,CAAV;AACH,KAfD;AAgBH;;AAED,WAASiB,YAAT,GAAuB;AACnB,QAAIC,OAAO,GAAG;AACV,sBAAgB,kBADN;AAEV,+BAAyB;AAFf,KAAd;AAKA,QAAIC,IAAI,GAAG;AACP,gBAAUjB,KAAK,CAACG,MADT;AAEP,eAASH,KAAK,CAACE,KAFR;AAGP,cAAQF,KAAK,CAACK,OAHP;AAIP,mBAAaL,KAAK,CAACI;AAJZ,KAAX;AAOAG,IAAAA,KAAK,CAAC,iCAAD,EAAoC;AACzCW,MAAAA,MAAM,EAAE,MADiC;AAEzCF,MAAAA,OAAO,EAAEA,OAFgC;AAGzCG,MAAAA,IAAI,EAAGC,IAAI,CAACC,SAAL,CAAeJ,IAAf;AAHkC,KAApC,CAAL,CAKCT,IALD,CAKM,UAASC,QAAT,EAAkB;AACpB,aAAOA,QAAQ,CAACC,IAAT,EAAP;AACH,KAPD,EAQCF,IARD,CAQM,UAASE,IAAT,EAAc;AAChB,UAAGY,MAAM,CAACC,OAAP,CAAe,UAAf,CAAH,EAA8B;AAC1BD,QAAAA,MAAM,CAACE,QAAP,GAAkB,GAAlB;AACH,OAFD,MAEK;AACDF,QAAAA,MAAM,CAACE,QAAP,GAAkB,GAAlB;AACH;;AAAA;AACJ,KAdD;AAeH;;AAED,WAASC,YAAT,CAAsBC,CAAtB,EAAyB;AACrB,QAAId,QAAQ,GAAGZ,KAAf;AACAY,IAAAA,QAAQ,CAACc,CAAC,CAACC,MAAF,CAASC,IAAV,CAAR,GAA0BF,CAAC,CAACC,MAAF,CAASE,KAAnC;AAEA5B,IAAAA,QAAQ,CAACa,IAAI,IAAI;AACb,aAAO,EAAC,GAAGA,IAAJ;AAAU,WAAGF;AAAb,OAAP;AACH,KAFO,CAAR;AAGH;;AAED,WAASkB,YAAT,CAAsBJ,CAAtB,EAAwB;AACpBA,IAAAA,CAAC,CAACK,cAAF,GADoB,CAEpB;;AACA,QAAG,CAAC/B,KAAK,CAACE,KAAP,IAAgB,CAACF,KAAK,CAACG,MAAvB,IAAiC,CAACH,KAAK,CAACI,MAAxC,IAAkD,CAACJ,KAAK,CAACK,OAA5D,EAAoE;AAChEiB,MAAAA,MAAM,CAACU,KAAP,CAAa,kBAAb;AACH,KAFD,MAGK,IAAGhC,KAAK,CAACG,MAAN,CAAaQ,MAAb,GAAoB,CAAvB,EAAyB;AAC1BW,MAAAA,MAAM,CAACU,KAAP,CAAa,mBAAb;AACH,KAFI,MAGA,IAAGhC,KAAK,CAACK,OAAN,CAAcM,MAAd,GAAqB,EAAxB,EAA2B;AAC5BW,MAAAA,MAAM,CAACU,KAAP,CAAa,kBAAb;AACH,KAFI,MAEA;AACDjB,MAAAA,YAAY;AACf;AACJ;;AAED,MAAIkB,UAAU,GAAG,EAAjB;AACAnC,EAAAA,OAAO,CAACoC,OAAR,CAAiB9B,MAAD,IAAU;AACtB6B,IAAAA,UAAU,CAACE,IAAX,eACI;AAAQ,MAAA,GAAG,EAAE/B,MAAM,CAACS,EAApB;AAAwB,MAAA,KAAK,EAAET,MAAM,CAACS,EAAtC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAA2CT,MAAM,CAACF,KAAlD,CADJ;AAGH,GAJD;AAMA,sBACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBADJ,CADJ,eAII;AAAM,IAAA,EAAE,EAAC,aAAT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI;AAAK,IAAA,SAAS,EAAC,kBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI;AAAK,IAAA,SAAS,EAAC,OAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI;AAAK,IAAA,SAAS,EAAC,OAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAAuB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAAvB,CADJ,eAEI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAAK;AAAO,IAAA,IAAI,EAAC,MAAZ;AAAmB,IAAA,IAAI,EAAC,OAAxB;AAAgC,IAAA,KAAK,EAAEF,KAAK,CAACE,KAA7C;AAAoD,IAAA,QAAQ,EAAEuB,YAA9D;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAAL,CAFJ,CADJ,eAKI;AAAK,IAAA,SAAS,EAAC,OAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI;AAAK,IAAA,SAAS,EAAC,OAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAAuB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,0BAAvB,CADJ,eAEI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAAK;AAAO,IAAA,IAAI,EAAC,MAAZ;AAAmB,IAAA,IAAI,EAAC,QAAxB;AAAiC,IAAA,KAAK,EAAEzB,KAAK,CAACG,MAA9C;AAAsD,IAAA,QAAQ,EAAEsB,YAAhE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAAL,CAFJ,CALJ,eASI;AAAK,IAAA,SAAS,EAAC,OAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI;AAAK,IAAA,SAAS,EAAC,OAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAAuB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qCAAvB,CADJ,eAEI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAAK;AAAQ,IAAA,IAAI,EAAC,QAAb;AAAsB,IAAA,QAAQ,EAAEA,YAAhC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAA+CQ,UAA/C,CAAL,CAFJ,CATJ,eAaI;AAAK,IAAA,SAAS,EAAC,OAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI;AAAK,IAAA,SAAS,EAAC,OAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAAuB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAAvB,CADJ,eAEI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAAK;AAAU,IAAA,IAAI,EAAC,MAAf;AAAsB,IAAA,IAAI,EAAC,SAA3B;AAAqC,IAAA,KAAK,EAAEjC,KAAK,CAACK,OAAlD;AAA2D,IAAA,QAAQ,EAAEoB,YAArE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAAL,CAFJ,CAbJ,eAiBI;AAAK,IAAA,SAAS,EAAC,UAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI;AAAQ,IAAA,IAAI,EAAC,QAAb;AAAsB,IAAA,OAAO,EAAEK,YAA/B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBADJ,CAjBJ,CADJ,CAJJ,CADJ;AA8BH;;AAED,eAAejC,OAAf","sourcesContent":["import React, {useState, useEffect} from 'react';\nimport './AddPost.css';\n\nfunction AddPost(){\n    const [courses, setCourses] = useState([]);\n    const [forms, setForms] = useState({\n        title: '',\n        author: '',\n        course: '',\n        content: ''\n    });\n\n    useEffect(function(){\n        getCourses();\n        \n        return function(){\n          \n        }\n      }, []);\n\n    function getCourses(){\n        fetch('http://localhost:7070/api/courses')\n        .then(function(response){\n            return response.json();\n        })\n        .then(function(json){\n            if(json.courses.length>0){\n                let newForms = forms;\n                newForms.course = json.courses[0].id;\n\n                setForms(prev => {\n                    return {...prev, ...newForms};\n                });\n            }\n\n            setCourses(json.courses);\n        });\n    }\n\n    function createCourse(){\n        var headers = {\n            \"Content-Type\": \"application/json\",                                                                                                \n            \"Access-Control-Origin\": \"*\"\n         }\n    \n        var data = {\n            \"author\": forms.author,\n            \"title\": forms.title,\n            \"body\": forms.content,\n            \"course_id\": forms.course\n        }\n        \n        fetch(\"http://localhost:7070/api/posts\", {\n        method: \"POST\",\n        headers: headers,\n        body:  JSON.stringify(data)\n        })\n        .then(function(response){ \n            return response.json(); \n        })\n        .then(function(json){ \n            if(window.confirm(\"등록 되었습니다\")){\n                window.location = '/';\n            }else{\n                window.location = '/';\n            };\n        });\n    }\n\n    function handleChange(e) {\n        let newForms = forms;\n        newForms[e.target.name] = e.target.value\n\n        setForms(prev => {\n            return {...prev, ...newForms};\n        });\n    }\n\n    function handleSubmit(e){\n        e.preventDefault();\n        // props.handleSubmit(state.title, state.author, state.course, state.content);\n        if(!forms.title || !forms.author || !forms.course || !forms.content){\n            window.alert(\"모든 입력값은 필수값 입니다.\");\n        }\n        else if(forms.author.length<3){\n            window.alert(\"작성자를 3자이상 입력해주세요.\");\n        }\n        else if(forms.content.length<10){\n            window.alert(\"본문을 10자이상 입력해주세요\");\n        }else{\n            createCourse();\n        }\n    }\n\n    let optionTags = [];\n    courses.forEach((course)=>{\n        optionTags.push(\n            <option key={course.id} value={course.id}>{course.title}</option>       \n        );\n    });\n\n    return (\n        <div>\n            <div>\n                <h2>추가</h2>\n            </div>   \n            <form id=\"addPostForm\">\n                <div className=\"addPostContainer\">\n                    <div className=\"panel\">\n                        <div className=\"title\"><span>제목</span></div>\n                        <div><input type=\"text\" name='title' value={forms.title} onChange={handleChange} /></div>\n                    </div>\n                    <div className=\"panel\">\n                        <div className=\"title\"><span>작성자</span></div>\n                        <div><input type=\"text\" name='author' value={forms.author} onChange={handleChange} /></div>\n                    </div>\n                    <div className=\"panel\">\n                        <div className=\"title\"><span>강의 목록\u001c</span></div>\n                        <div><select name=\"course\" onChange={handleChange}>{optionTags}</select></div>\n                    </div>\n                    <div className=\"panel\">\n                        <div className=\"title\"><span>본문</span></div>\n                        <div><textarea type=\"text\" name='content' value={forms.content} onChange={handleChange} /></div>\n                    </div> \n                    <div className=\"btnPanel\">\n                        <button type=\"submit\" onClick={handleSubmit}>확인</button>\n                    </div> \n                </div>\n            </form>         \n        </div>\n    )\n}\n\nexport default AddPost;"]},"metadata":{},"sourceType":"module"}